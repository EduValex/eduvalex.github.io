---
import cv from '../../../shared/data/cv-data.json';
const personal = cv.personal;
const about = cv.about.es;
const projects = cv.projects;
const experience = cv.experience;
const skills = cv.skills;

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Eduardo Valenzuela ‚Äî Portfolio (Astro)</title>
    <meta name="description" content="Portfolio de Eduardo Valenzuela ‚Äî Full Stack Developer" />
    <link rel="icon" href="/favicon.ico" />
    <style>
      :root { color-scheme: dark; }
      body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:#0f172a; color:#e2e8f0; }
      a { color:#60a5fa; text-decoration:none }
      a:hover { text-decoration:underline }
      .container { max-width: 1040px; margin: 0 auto; padding: 2rem; }
      .panel { background: rgba(15,23,42,.6); border:1px solid rgba(148,163,184,.2); border-radius: 14px; padding: 1.25rem; }
      .grid { display:grid; gap:1rem; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); }
      .btn { display:inline-block; background:#3b82f6; color:white; padding:.75rem 1rem; border-radius:.75rem; font-weight:600; }
      .btn:hover { background:#2563eb }
      h1 { font-size: clamp(1.8rem, 3.5vw, 2.4rem); margin:0 0 .5rem }
      h2 { font-size: clamp(1.3rem, 2.5vw, 1.6rem); margin:1.5rem 0 .75rem }
      p { line-height:1.7 }
      header { display:flex; align-items:center; gap:1rem; margin-bottom:1.25rem }
      header img { width:84px; height:84px; border-radius:16px; object-fit:cover; }
      small { color:#94a3b8 }
      nav { position: sticky; top:0; z-index:50; backdrop-filter: blur(8px); background: rgba(15,23,42,.7); border-bottom:1px solid rgba(148,163,184,.2); }
      nav .inner { display:flex; gap:.75rem; align-items:center; justify-content:space-between; max-width:1040px; margin:0 auto; padding:.6rem 2rem; }
      nav a { color:#cbd5e1; text-decoration:none; padding:.35rem .6rem; border-radius:.5rem }
      nav a:hover { background: rgba(148,163,184,.12) }
      .badges { display:flex; flex-wrap:wrap; gap:.5rem }
      .badge { background:#1f2937; border:1px solid rgba(148,163,184,.25); color:#e5e7eb; padding:.25rem .6rem; border-radius:999px; font-size:.8rem }
    </style>
  </head>
  <body>
    <nav>
      <div class="inner">
        <div class="badges">
          <a href="#about">Sobre m√≠</a>
          <a href="#experience">Experiencia</a>
          <a href="#projects">Proyectos</a>
          <a href="#skills">Habilidades</a>
          <a href="#contact">Contacto</a>
        </div>
        <div class="badges">
          <a href="/" title="Ver versi√≥n React">‚öõÔ∏è React</a>
          <a href="/astro/" title="Esta p√°gina" class="badge">‚≠ê Astro</a>
        </div>
      </div>
    </nav>
    <main class="container">
      <section class="panel">
        <header>
          <img src="/favicon.ico" alt="Logo" />
          <div>
            <h1>Hola, soy {personal.name}</h1>
            <small>{personal.location}</small>
          </div>
        </header>
        <p>
          Desarrollador Full‚ÄëStack. Aqu√≠ tienes mi CV en PDF listo para descargar.
        </p>
        <p>
          <a class="btn" href="/CV-Eduardo-Valenzuela.pdf" download>Descargar CV</a>
        </p>
      </section>
      <section id="about" class="panel">
        <h2>Sobre m√≠</h2>
        {about.split('\n\n').map(par => (<p>{par}</p>))}
      </section>

      <section id="experience" class="panel">
        <h2>Experiencia</h2>
        <div class="grid">
          {experience.map(exp => (
            <article class="panel" style="padding:1rem">
              <h3 style="margin:.25rem 0 0">{exp.position}</h3>
              <small>{exp.company} ¬∑ {exp.period} ¬∑ {exp.location}</small>
              <p style="margin:.75rem 0">{exp.description}</p>
              {exp.technologies && (
                <div class="badges">
                  {exp.technologies.map(t => (<span class="badge">{t}</span>))}
                </div>
              )}
            </article>
          ))}
        </div>
      </section>

      <section class="panel">
        <h2>Proyectos destacados</h2>
        <div class="grid">
          {projects.map(p => (
            <article class="panel" style="padding:1rem">
              <h3 style="margin:.25rem 0 0">{p.name}</h3>
              <small>{p.technologies?.slice(0,4).join(', ')}</small>
              <p style="margin:.75rem 0">{p.description}</p>
              <div style="display:flex; gap:.75rem; flex-wrap:wrap">
                {p.github && <a href={p.github} target="_blank" rel="noreferrer" class="btn" style="padding:.4rem .7rem">C√≥digo</a>}
                {p.demo && <a href={p.demo} target="_blank" rel="noreferrer" class="btn" style="padding:.4rem .7rem; background:#0ea5e9">Demo</a>}
                {!p.github && !p.demo && <span style="opacity:.7">üîí Privado</span>}
              </div>
            </article>
          ))}
        </div>
      </section>

      <section id="skills" class="panel">
        <h2>Habilidades</h2>
        <div class="grid">
          <article class="panel">
            <h3>Frontend</h3>
            <div class="badges">
              {skills.frontend.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
          <article class="panel">
            <h3>Backend</h3>
            <div class="badges">
              {skills.backend.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
          <article class="panel">
            <h3>Herramientas ¬∑ Bases de datos</h3>
            <div class="badges">
              {skills.tools.databases.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
          <article class="panel">
            <h3>Herramientas ¬∑ SEO & Analytics</h3>
            <div class="badges">
              {skills.tools.seoAnalytics.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
          <article class="panel">
            <h3>Herramientas ¬∑ Dev & Deploy</h3>
            <div class="badges">
              {skills.tools.devTools.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
          <article class="panel">
            <h3>IA</h3>
            <div class="badges">
              {skills.ai.map(s => (<span class="badge" title={`${s.level}%`}>{s.name}</span>))}
            </div>
          </article>
        </div>
      </section>

      <section id="contact" class="panel">
        <h2>Contacto</h2>
        <p>
          Escr√≠beme a <a href={`mailto:${personal.email}`}>{personal.email}</a> o por WhatsApp:
          <a href={`https://wa.me/${personal.phone.replace(/\D/g,'')}`} target="_blank" rel="noreferrer"> {personal.phone}</a>
        </p>
      </section>
    </main>
  </body>
</html>
